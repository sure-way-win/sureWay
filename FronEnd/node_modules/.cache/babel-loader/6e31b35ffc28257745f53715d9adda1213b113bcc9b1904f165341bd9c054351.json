{"ast":null,"code":"var _jsxFileName = \"/Volumes/Docs/5thSem/ThirdYearProject/e19-3yp-School-Van-Tracking-System/code/webapplication/src/components/DriverRecord.jsx\";\nimport React, { Component } from \"react\";\nimport SearchBox from \"./common/searchBox\";\nimport { getDrivers } from \"../services/driverRecordsservices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass DriverRecord extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      drivers: [],\n      selectedDriver: \"\",\n      searchQuery: \"\"\n    };\n    this.handleUserSelect = user => {\n      this.setState({\n        selectedDriver: user\n      });\n    };\n    this.handleSearch = query => {\n      this.setState({\n        searchQuery: query\n      });\n    };\n    this.filterUsers = () => {\n      const {\n        drivers,\n        searchQuery\n      } = this.state;\n      if (!searchQuery) return drivers;\n      const filtereddrivers = drivers.filter(user => user.firstName.toLowerCase().includes(searchQuery.toLowerCase()));\n      const remainingdrivers = drivers.filter(user => !filtereddrivers.includes(user));\n      return [...filtereddrivers, ...remainingdrivers];\n    };\n  }\n  async componentDidMount() {\n    try {\n      const {\n        data\n      } = await getDrivers();\n      this.setState({\n        drivers: data.gettingDrivers\n      });\n      this.setState({\n        selectedDriver: data.gettingDrivers[0]\n      });\n    } catch (error) {\n      console.error(\"Error fetching users:\", error.message);\n    }\n  }\n  render({\n    selectedDriver,\n    searchQuery\n  } = this.state) {\n    const filteredDrivers = this.filterUsers();\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n        value: searchQuery,\n        onChange: this.handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        style: {\n          marginTop: 16\n        },\n        children: filteredDrivers.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: user === selectedDriver ? \"list-group-item active\" : \"list-group-item\",\n          onClick: () => this.handleUserSelect(user),\n          children: user.firstName\n        }, user._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default DriverRecord;","map":{"version":3,"names":["React","Component","SearchBox","getDrivers","jsxDEV","_jsxDEV","Fragment","_Fragment","DriverRecord","constructor","args","state","drivers","selectedDriver","searchQuery","handleUserSelect","user","setState","handleSearch","query","filterUsers","filtereddrivers","filter","firstName","toLowerCase","includes","remainingdrivers","componentDidMount","data","gettingDrivers","error","console","message","render","filteredDrivers","children","value","onChange","fileName","_jsxFileName","lineNumber","columnNumber","className","style","marginTop","map","onClick","_id"],"sources":["/Volumes/Docs/5thSem/ThirdYearProject/e19-3yp-School-Van-Tracking-System/code/webapplication/src/components/DriverRecord.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport SearchBox from \"./common/searchBox\";\nimport { getDrivers } from \"../services/driverRecordsservices\";\n\nclass DriverRecord extends Component {\n  state = {\n    drivers: [],\n    selectedDriver: \"\",\n    searchQuery: \"\",\n  };\n\n  async componentDidMount() {\n    try {\n      const { data } = await getDrivers();\n      this.setState({ drivers: data.gettingDrivers });\n      this.setState({ selectedDriver: data.gettingDrivers[0] });\n    } catch (error) {\n      console.error(\"Error fetching users:\", error.message);\n    }\n  }\n\n  handleUserSelect = (user) => {\n    this.setState({ selectedDriver: user });\n  };\n\n  handleSearch = (query) => {\n    this.setState({ searchQuery: query });\n  };\n\n  filterUsers = () => {\n    const { drivers, searchQuery } = this.state;\n    if (!searchQuery) return drivers;\n\n    const filtereddrivers = drivers.filter((user) =>\n      user.firstName.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    const remainingdrivers = drivers.filter(\n      (user) => !filtereddrivers.includes(user)\n    );\n\n    return [...filtereddrivers, ...remainingdrivers];\n  };\n\n  render({ selectedDriver, searchQuery } = this.state) {\n    const filteredDrivers = this.filterUsers();\n    return (\n      <>\n        <SearchBox value={searchQuery} onChange={this.handleSearch} />\n        <ul className=\"list-group\" style={{ marginTop: 16 }}>\n          {filteredDrivers.map((user) => (\n            <li\n              key={user._id}\n              className={\n                user === selectedDriver\n                  ? \"list-group-item active\"\n                  : \"list-group-item\"\n              }\n              onClick={() => this.handleUserSelect(user)}\n            >\n              {user.firstName}\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default DriverRecord;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,UAAU,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/D,MAAMC,YAAY,SAASP,SAAS,CAAC;EAAAQ,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACnCC,KAAK,GAAG;MACNC,OAAO,EAAE,EAAE;MACXC,cAAc,EAAE,EAAE;MAClBC,WAAW,EAAE;IACf,CAAC;IAAA,KAYDC,gBAAgB,GAAIC,IAAI,IAAK;MAC3B,IAAI,CAACC,QAAQ,CAAC;QAAEJ,cAAc,EAAEG;MAAK,CAAC,CAAC;IACzC,CAAC;IAAA,KAEDE,YAAY,GAAIC,KAAK,IAAK;MACxB,IAAI,CAACF,QAAQ,CAAC;QAAEH,WAAW,EAAEK;MAAM,CAAC,CAAC;IACvC,CAAC;IAAA,KAEDC,WAAW,GAAG,MAAM;MAClB,MAAM;QAAER,OAAO;QAAEE;MAAY,CAAC,GAAG,IAAI,CAACH,KAAK;MAC3C,IAAI,CAACG,WAAW,EAAE,OAAOF,OAAO;MAEhC,MAAMS,eAAe,GAAGT,OAAO,CAACU,MAAM,CAAEN,IAAI,IAC1CA,IAAI,CAACO,SAAS,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACX,WAAW,CAACU,WAAW,CAAC,CAAC,CACjE,CAAC;MAED,MAAME,gBAAgB,GAAGd,OAAO,CAACU,MAAM,CACpCN,IAAI,IAAK,CAACK,eAAe,CAACI,QAAQ,CAACT,IAAI,CAC1C,CAAC;MAED,OAAO,CAAC,GAAGK,eAAe,EAAE,GAAGK,gBAAgB,CAAC;IAClD,CAAC;EAAA;EA/BD,MAAMC,iBAAiBA,CAAA,EAAG;IACxB,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMzB,UAAU,CAAC,CAAC;MACnC,IAAI,CAACc,QAAQ,CAAC;QAAEL,OAAO,EAAEgB,IAAI,CAACC;MAAe,CAAC,CAAC;MAC/C,IAAI,CAACZ,QAAQ,CAAC;QAAEJ,cAAc,EAAEe,IAAI,CAACC,cAAc,CAAC,CAAC;MAAE,CAAC,CAAC;IAC3D,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACE,OAAO,CAAC;IACvD;EACF;EAyBAC,MAAMA,CAAC;IAAEpB,cAAc;IAAEC;EAAY,CAAC,GAAG,IAAI,CAACH,KAAK,EAAE;IACnD,MAAMuB,eAAe,GAAG,IAAI,CAACd,WAAW,CAAC,CAAC;IAC1C,oBACEf,OAAA,CAAAE,SAAA;MAAA4B,QAAA,gBACE9B,OAAA,CAACH,SAAS;QAACkC,KAAK,EAAEtB,WAAY;QAACuB,QAAQ,EAAE,IAAI,CAACnB;MAAa;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9DpC,OAAA;QAAIqC,SAAS,EAAC,YAAY;QAACC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAAT,QAAA,EACjDD,eAAe,CAACW,GAAG,CAAE7B,IAAI,iBACxBX,OAAA;UAEEqC,SAAS,EACP1B,IAAI,KAAKH,cAAc,GACnB,wBAAwB,GACxB,iBACL;UACDiC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAAC/B,gBAAgB,CAACC,IAAI,CAAE;UAAAmB,QAAA,EAE1CnB,IAAI,CAACO;QAAS,GARVP,IAAI,CAAC+B,GAAG;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASX,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA,eACL,CAAC;EAEP;AACF;AAEA,eAAejC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}